{"version":3,"sources":["scripts/main.js"],"names":["thead","document","querySelector","theadRow","tbody","tbodyRows","querySelectorAll","tbodyRowsArr","clicks","i","children","innerText","addEventListener","isNaN","replace","sort","a","b","localeCompare","answer","forEach","row","append","prepend","length","checkingRow","className","body","insertAdjacentHTML","errorAllMessage","errorNameMessage","errorInvalidAgeMessage","errorLessThenMinAgeMessage","errorMoreThenMaxAgeMessage","errorSalaryMessage","successMessage","errorMessages","errMes","style","display","form","sendButton","evnt","values","push","firstElementChild","value","setTimeout","Math","trunc","toString","oldText","lastTarget","cellInput","createElement","cells","customEnter","Event","code","cell","dispatchEvent","target"],"mappings":"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","file":"main.71c268c6.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst thead = document.querySelector('thead');\nconst theadRow = thead.querySelector('tr');\nconst tbody = document.querySelector('tbody');\nconst tbodyRows = tbody.querySelectorAll('tr');\nconst tbodyRowsArr = [...tbodyRows];\nconst clicks = {};\n\n//  ##### Implement table sorting by clicking on the title (in two directions)\nfor (let i = 0; i < theadRow.children.length; i++) {\n  clicks[theadRow.children[i].innerText] = 0;\n\n  theadRow.children[i].addEventListener('click', () => {\n    if (isNaN(+tbodyRowsArr[0]\n      .children[i]\n      .innerText\n      .replace('$', '')\n      .replace(',', ''))) {\n      tbodyRowsArr.sort((a, b) => {\n        return a.children[i].innerText.localeCompare(b.children[i].innerText);\n      });\n    } else {\n      tbodyRowsArr.sort((a, b) => {\n        const answer = +(a.children[i]\n          .innerText\n          .replace('$', '')\n          .replace(',', ''))\n        - +(b.children[i]\n          .innerText\n          .replace('$', '')\n          .replace(',', ''));\n\n        return answer;\n      });\n    }\n\n    if (clicks[theadRow.children[i].innerText] % 2 === 0) {\n      tbodyRowsArr.forEach(row => {\n        tbody.append(row);\n      });\n    } else {\n      tbodyRowsArr.forEach(row => {\n        tbody.prepend(row);\n      });\n    }\n\n    clicks[theadRow.children[i].innerText]++;\n  });\n}\n\n//  ##### When user clicks on a row, it should become selected.\ntbodyRowsArr.forEach(row => {\n  row.addEventListener('click', () => {\n    tbodyRowsArr.forEach(checkingRow => {\n      checkingRow.className = '';\n    });\n    row.className = 'active';\n  });\n});\n\n//  ##### Create notification if form data is invalid.\n\ndocument.body.insertAdjacentHTML('beforeend', `\n  <div class='notification error error-all'\n  data-qa=\"notification\">\n  <h1 class='title'>All fields are required</h1>\n  </div>\n\n  <div class='notification error error-name'\n  data-qa=\"notification\">\n  <h1 class='title'>Invalid name</h1>\n  </div>\n\n  <div class='notification error error-invalid-age'\n  data-qa=\"notification\">\n  <h1 class='title'>Invalid age</h1>\n  </div>\n\n  <div class='notification error error-less-then-min-age'\n  data-qa=\"notification\">\n  <h1 class='title'>Peson is baby</h1>\n  </div>\n\n  <div class='notification error error-more-then-max-age'\n  data-qa=\"notification\">\n  <h1 class='title'>Person is creaker</h1>\n  </div>\n\n  <div class='notification error error-salary'\n  data-qa=\"notification\">\n  <h1 class='title'>Invalid salary</h1>\n  </div>\n\n  <div class='notification success'\n  data-qa=\"notification\">\n  <h1 class='title'>Person was succeffully added</h1>\n  </div>\n`);\n\nconst errorAllMessage = document\n  .querySelector('.error-all');\nconst errorNameMessage = document\n  .querySelector('.error-name');\n\nconst errorInvalidAgeMessage = document\n  .querySelector('.error-invalid-age');\nconst errorLessThenMinAgeMessage = document\n  .querySelector('.error-less-then-min-age');\nconst errorMoreThenMaxAgeMessage = document\n  .querySelector('.error-more-then-max-age');\n\nconst errorSalaryMessage = document\n  .querySelector('.error-salary');\nconst successMessage = document\n  .querySelector('.success');\n\nconst errorMessages = [...document.querySelectorAll('.error')];\n\nfor (const errMes of errorMessages) {\n  errMes.style.display = 'none';\n}\n\nsuccessMessage.style.display = 'none';\n\n//  ##### Write a script to add a form to the document.\n\ndocument.body.insertAdjacentHTML('beforeend', `\n  <form class = new-employee-form>\n  <label>Name:\n  <input required name=\"name\" type=\"text\" data-qa=\"name\">\n  </label>\n\n  <label>Position:\n  <input required name=\"position\" type=\"text\" data-qa=\"position\" >\n  </label>\n\n  <label>Office:\n  <select required name=\"office\" data-qa=\"office\">\n    <option value=\"Tokyo\">Tokyo</option>\n    <option value=\"Singapore\">Singapore</option>\n    <option value=\"London\">London</option>\n    <option value=\"New York\">New York</option>\n    <option value=\"Edinburgh\">Edinburgh</option>\n    <option value=\"San Francisco\">San Francisco</option>\n  </select>\n  </label>\n\n  <label>Age:\n  <input required name=\"age\" type=\"text\" data-qa=\"age\">\n  </label>\n\n  <label>Salary:\n  <input required name=\"salary\" type=\"text\" data-qa=\"salary\">\n  </label>\n\n  <button type = \"button\">Save to table</button>\n  </form>\n`);\n\nconst form = document.body.querySelector('.new-employee-form');\nconst sendButton = form.querySelector('button');\n\nsendButton.addEventListener('click', (evnt) => {\n  const values = [];\n\n  for (let i = 0; i < 5; i++) {\n    values.push(form.children[i].firstElementChild.value);\n  }\n\n  for (const value of values) {\n    if (value === '') {\n      errorAllMessage.style.display = 'block';\n\n      setTimeout(() => {\n        errorAllMessage.style.display = 'none';\n      }, 2000);\n\n      return;\n    }\n  }\n\n  if (values[0].length < 4) {\n    errorNameMessage.style.display = 'block';\n\n    setTimeout(() => {\n      errorNameMessage.style.display = 'none';\n    }, 2000);\n\n    return;\n  }\n\n  if (isNaN(+values[3])) {\n    errorInvalidAgeMessage.style.display = 'block';\n\n    setTimeout(() => {\n      errorInvalidAgeMessage.style.display = 'none';\n    }, 2000);\n\n    return;\n  }\n\n  if (values[3] < 18) {\n    errorLessThenMinAgeMessage.style.display = 'block';\n\n    setTimeout(() => {\n      errorLessThenMinAgeMessage.style.display = 'none';\n    }, 2000);\n\n    return;\n  }\n\n  if (values[3] > 90) {\n    errorMoreThenMaxAgeMessage.style.display = 'block';\n\n    setTimeout(() => {\n      errorMoreThenMaxAgeMessage.style.display = 'none';\n    }, 2000);\n\n    return;\n  }\n\n  if (isNaN(+values[4])) {\n    errorSalaryMessage.style.display = 'block';\n\n    setTimeout(() => {\n      errorSalaryMessage.style.display = 'none';\n    }, 2000);\n\n    return;\n  }\n\n  tbody.insertAdjacentHTML('beforeend', `\n  <tr>\n    <td>${values[0]}</td>\n    <td>${values[1]}</td>\n    <td>${values[2]}</td>\n    <td>${values[3]}</td>\n    <td>$${Math.trunc(values[4] / 1000)},${(values[4] % 1000)\n  .toString()\n  .length < 2\n  ? (values[4] % 1000).toString() + '00'\n  : (values[4] % 1000).toString()}</td>\n  </tr>\n  `);\n\n  successMessage.style.display = 'block';\n\n  setTimeout(() => {\n    successMessage.style.display = 'none';\n  }, 2000);\n});\n\n//  ##### Implement editing of table cells by double-clicking on it (optional).\nconst cellInput = document.createElement('input');\nconst cells = [...document.querySelectorAll('td')];\nlet oldText;\nconst customEnter = new Event('keyup');\nlet lastTarget;\n\ncellInput.className = 'cell-input';\ncustomEnter.code = 'Enter';\n\nfor (const cell of cells) {\n  cell.addEventListener('dblclick', (evnt) => {\n    if (lastTarget) {\n      lastTarget.dispatchEvent(customEnter);\n    }\n    lastTarget = evnt.target;\n    oldText = evnt.target.innerText;\n    cellInput.value = oldText;\n    evnt.target.innerText = '';\n    evnt.target.append(cellInput);\n  });\n\n  cell.addEventListener('keyup', (evnt) => {\n    if (evnt.code === 'Enter') {\n      if (cellInput.value !== '') {\n        evnt.target.innerText = cellInput.value;\n      } else {\n        evnt.target.innerText = oldText;\n      }\n    }\n  });\n\n  cell.addEventListener('blur', (evnt) => {\n    if (cellInput.value !== '') {\n      evnt.target.innerText = cellInput.value;\n    } else {\n      evnt.target.innerText = oldText;\n    }\n  });\n}\n"]}